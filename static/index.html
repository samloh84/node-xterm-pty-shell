<!doctype html>
<html lang="en">
<head>
    <title>Xterm.js node-pty Shell</title>
</head>
<link href="https://cdnjs.cloudflare.com/ajax/libs/xterm/3.12.2/xterm.min.css"
      rel="stylesheet">
<body>
<div id="terminal"></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"
        integrity="sha384-JUMjoW8OzDJw4oFpWIB2Bu/c6768ObEthBMVSiIx4ruBIEdyNSUQAjJNFqT5pnJ6"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/xterm/3.12.2/xterm.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/xterm/3.12.2/addons/attach/attach.min.js"></script>
<script>
    $(function () {
        let socket = new WebSocket(`${location.protocol === 'https' ? 'wss' : 'ws'}://${location.host}/shell`);

        Terminal.applyAddon(attach);

        let terminal = new Terminal();
        terminal.open(document.getElementById('terminal'));
        terminal.attach(socket, true, true);
    });
</script>
</body>
</html>